<!DOCTYPE html>
<html>
    <head>
        <title>Demo for Event Handling</title>
        <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
        <script>
            var users = [
                {userName : "AdiDhara", pass: "1234"},
                {userName : "Dhara", pass: "1233"},
                {userName : "Aditya", pass: "1232"},
                {userName : "Mahesh", pass: "1231"},
                {userName : "Aditi", pass: "1230"}
            ];
            function validate(){
                
                var userName = document.getElementById('userName').value;
                var pass = document.getElementById('pass').value;
                for(var user of users){
                    if(userName === user.userName && pass === user.pass){
                        document.write("Successfully loged in");
                    }
                }
                if(user == users[users.length-1]){
                    alert('User does not exists');
                }
            }
            function checkUser(){
                for(var user of users){
                    if(document.getElementById('userName').value === user.userName){
                        document.getElementById('status').innerHTML = "User is not available";
                        break;
                    }else{
                        document.getElementById('status').innerHTML = "User is available";
                    }
                }
            }
            function checkNoUser(){
                if(document.getElementById('userName').value == ""){
                    document.getElementById('status').innerHTML = "Enter user name";
                }
            }
            function getUsers(){
                var para = document.getElementById('printUsers');
                for(var user of users){
                    var data = document.createElement('dd');
                    data.innerHTML = `${user.userName}`
                    para.appendChild(data);
                }
            }
        </script>
    </head>
    <body class="row">
        <div class="align-items-start"><button class="btn btn-light" onclick="getUsers()">Click here if you want to get existing users</button></div>
        <div class="col-10 d-flex justify-content-center text-center align-items-center" style="height: 600px;">
            <form>
                <fieldset>
                    <legend><h2>Login Form</h2></legend>
                    User Name : 
                    <input type="text" id="userName" class="form-control w-100" onkeyup="checkUser()" onblur="checkNoUser()">
                    <p id="status"></p>
                    <div>
                        <span>Password: </span>
                        <input type="password" id="pass" class="form-control w-100">
                    </div>
                    <div>
                        <button onclick="validate()" class="btn btn-danger mt-3">Submit</button>
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="col-2" id="notice">
            <dl id="printUsers">
                <dt>Existing users : </dt>
            </dl>
        </div>
    </body>
</html>